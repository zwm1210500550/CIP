# Conditional Random Field

## 结构

```sh
.
├── bigdata
│   ├── dev.conll
│   ├── test.conll
│   └── train.conll
├── data
│   ├── dev.conll
│   └── train.conll
├── result
│   ├── bllm.txt
│   ├── bollm.txt
│   ├── llm.txt
│   └── ollm.txt
├── config.py
├── crf.py
├── ocrf.py
├── README.md
└── run.py
```

## 用法

```sh
usage: run.py [-h] [-b] [--anneal] [--optimize] [--regularize] [--shuffle]

Create Log Linear Model(LLM) for POS Tagging.

optional arguments:
  -h, --help        show this help message and exit
  -b                use big data
  --anneal, -a      use simulated annealing
  --optimize, -o    use feature extracion optimization
  --regularize, -r  use L2 regularization
  --shuffle, -s     shuffle the data at each epoch
  --file FILE, -f FILE  set where to store the model
```

## 结果

### 小数据集

| 特征提取优化 | 模拟退火 | L2正则化 | 打乱数据 | 迭代次数 |  dev/P   | test/P |    mT(s)    |
| :----------: | :------: | :------: | :------: | :------: | :------: | :----: | :---------: |
|      ×       |    ×     |    ×     |    ×     |  69/75  | 882410% |   *    | 0:01:06.944992 |
|      ×       |    ×     |    ×     |    √     |  61/67  | 882808% |   *    | 0:01:04.863724 |
|      ×       |    ×     |    √     |    ×     |  99/99  | 888193% |   *    | 0:01:05.329915 |
|      ×       |    ×     |    √     |    √     |  /  | % |   *   |  |
|      ×       |    √     |    ×     |    ×     | 26/32 | 885630% |   *   | 0:01:07.768058 |
|      ×       |    √     |    ×     |    √     | 13/19 | 886663% |   *   | 0:01:07.690172 |
|      ×       |    √     |    √     |    ×     |  31/37  | 885769% |   *    | 0:01:04.442846 |
|      ×       |    √     |    √     |    √     |  17/23  | 885868% |   *    | 0:01:06.229971 |
|      √       |    ×     |    ×     |    ×     |  12/18  | 88.4517% |   *    | 0:00:16.039182 |
|      √       |    ×     |    ×     |    √     |  72/78  | 88.8134% |   *    | 0:00:13.694200 |
|      √       |    ×     |    √     |    ×     | 90/96 | 88.9704% |   *    | 0:00:15.809898 |
|      √       |    ×     |    √     |    √     | 54/60 | 88.9982% |   *    | 0:00:15.981225 |
|      √       |    √     |    ×     |    ×     | 12/18 | 88.9604% |   *    | 0:00:15.535899 |
|      √       |    √     |    ×     |    √     |  12/18  | 88.9068% |   *    | 0:00:14.137190 |
|      √       |    √     |    √     |    ×     |  16/22  | 88.9584% |   *    | 0:00:16.497147 |
|      √       |    √     |    √     |    √     | 7/13 | 89.0121% |   *    | 0:00:16.539584 |

### 大数据集

| 特征提取优化 | 模拟退火 | L2正则化 | 打乱数据 | 迭代次数 |  dev/P   |  test/P  |    mT(s)     |
| :----------: | :------: | :------: | :------: | :------: | :------: | :------: | :----------: |
|      ×       |    ×     |    ×     |    ×     |  /   | % | % |  |
|      ×       |    ×     |    ×     |    √     |  /   | % | % |  |
|      ×       |    ×     |    √     |    ×     |  /   | % | % |  |
|      ×       |    ×     |    √     |    √     |  /   | % | % |  |
|      ×       |    √     |    ×     |    ×     |  /   | % | % |  |
|      ×       |    √     |    ×     |    √     |  /   | % | % |  |
|      ×       |    √     |    √     |    ×     |  /   | % | % |  |
|      ×       |    √     |    √     |    √     |  /   | % | % |  |
|      √       |    ×     |    ×     |    ×     |  /   | % | % |  |
|      √       |    ×     |    ×     |    √     |  /   | % | % |  |
|      √       |    ×     |    √     |    ×     |  /   | % | % |  |
|      √       |    ×     |    √     |    √     |  /   | % | % |  |
|      √       |    √     |    ×     |    ×     |  /   | % | % |  |
|      √       |    √     |    ×     |    √     |  /   | % | % |  |
|      √       |    √     |    √     |    ×     |  /   | % | % |  |
|      √       |    √     |    √     |    √     |  /   | % | % |  |